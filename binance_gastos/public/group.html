<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalles del Grupo</title>
    <link rel="stylesheet" href="../assets/css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <h1 id="group-name">Nombre del Grupo</h1>
        <button id="backBtn">Volver al Dashboard</button>
    </header>

    <section id="group-details">
        <p><strong>Código de invitación:</strong> <span id="invitation-code"></span></p>
        <p><strong>Creador:</strong> <span id="group-creator"></span></p>
        <!-- Botón para compartir el código de invitación -->
        <button id="shareBtn">Compartir</button>
    </section>

    <!-- Header con las opciones -->
    <nav>
        <button id="gastosBtn">Gastos</button>
        <button id="tusGastosBtn">Tus Gastos</button>
        <button id="balancesBtn">Balances</button>
    </nav>

    <!-- Sección de Gastos (por defecto visible) -->
    <section id="gastos-section">
        <!-- Botón para añadir gasto -->
        <button id="addExpenseBtn">Añadir Gasto</button>

        <!-- Formulario para añadir gasto (inicialmente oculto) -->
        <section id="add-expense-form" style="display: none;">
            <h2>Añadir Gasto</h2>
            <form id="expenseForm">
                <input type="text" id="expenseName" placeholder="Nombre del gasto" required>
                <input type="number" id="expenseAmount" placeholder="Cantidad" min="0" step="0.01" required>
                
                <h3>¿Quién pagó?</h3>
                <select id="payer-select" required>
                    <!-- Aquí se cargarán las opciones de los participantes para seleccionar al pagador -->
                </select>
                
                <h3>¿Entre quiénes se divide?</h3>
                <div id="participants-list">
                    <!-- Aquí se cargarán los checkbox de los participantes para dividir el gasto -->
                </div>
                
                <button type="submit">Agregar Gasto</button>
                <button type="button" id="cancelExpenseBtn">Cancelar</button>
            </form>
        </section>

        <!-- Contenedor para mostrar los gastos -->
        <section id="expenses-container">
            <h2>Gastos del Grupo</h2>
            <div id="expenses-list"></div>
        </section>
    </section>

    <!-- Sección de Tus Gastos (inicialmente oculta) -->
    <section id="tus-gastos-section" style="display: none;">
        <h2>Tus Gastos</h2>
        <div id="tus-gastos-list"></div>
    </section>

    <!-- Sección de Balances (inicialmente oculta) -->
    <section id="balances-section" style="display: none;">
        <h2>Balances</h2>
        <div class="chart-container" style="position: relative; height:30vh; width:60vw">
            <canvas id="balances-chart"></canvas>
        </div>
        <h2>Pagos Simplificados</h2>
        <div id="transactions-container"></div>
    </section>

    <!-- Formulario para compartir el código de invitación (inicialmente oculto) -->
    <section id="share-form" style="display: none;">
        <h2>Compartir Código de Invitación</h2>
        <form id="shareInvitationForm">
            <input type="email" id="email" placeholder="Correo electrónico" required>
            <button type="submit">Enviar</button>
            <button type="button" id="cancelShareBtn">Cancelar</button>
        </form>
    </section>

    <script src="../assets/js/group.js"></script>
</body>
</html>